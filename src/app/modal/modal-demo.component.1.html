<section class="markdown">
  <h1>Modal</h1>
  <section class="markdown">
    <p>模态对话框</p>
    <h2><span>何时使用</span></h2>
    <p>需要用户处理事务，又不希望跳转页面以致打断工作流程时，可以使用 Modal 在当前页面正中打开一个浮层，承载相应的操作。</p>
    <p>另外当需要一个简洁的确认框询问用户时，可以使用精心封装好的 <code>NzModalService.confirm()</code> 等方法</p>
    <p>推荐使用加载Component的方式弹出Modal，这样弹出层的Component逻辑可以与外层Component完全隔离，并且做到可以随时复用，</p>
    <p>在弹出层Component中可以通过依赖注入 <code>BgxModalRef</code> 方式直接获取模态框的组件实例，用于控制在弹出层组件中控制模态框行为。</p>
  </section>
  <h2>代码演示</h2>
</section>
<div nz-row [nzGutter]="8">
  <div nz-col [nzSpan]="12">
    <demo-code-box [antTitle]="'默认'" [antCode]="modalBaseCode">
      <app-demo-modal-basic demo></app-demo-modal-basic>
      <div intro>
        <p>第一个对话框</p>
      </div>
    </demo-code-box>
  </div>
  <div nz-col [nzSpan]="12">
    <demo-code-box [antTitle]="'异步关闭'" [antCode]="modalAsyncCode">
      <app-demo-modal-async demo></app-demo-modal-async>
      <div intro>
        <p>点击确定后异步关闭对话框，例如提交表单</p>
      </div>
    </demo-code-box>
  </div>
  <div nz-col [nzSpan]="12">
    <demo-code-box [antTitle]="'自定义页脚'" [antCode]="modalFooterCode">
      <app-demo-modal-footer demo></app-demo-modal-footer>
      <div intro>
        <p>更复杂的例子，自定义了页脚的按钮，点击提交后进入 loading 状态，完成后关闭。</p>
        <p>不需要默认确定取消按钮时，你可以把 <code>nzFooter</code> 设为 <code>null</code>。</p>
      </div>
    </demo-code-box>
  </div>
  <div nz-col [nzSpan]="12">
    <demo-code-box [antTitle]="'确认对话框'" [antCode]="modalConfirmCode">
      <app-demo-modal-confirm demo></app-demo-modal-confirm>
      <div intro>
        <p>使用 <code>NzModalService.confirm()</code> 可以快捷地弹出确认框。</p>
      </div>
    </demo-code-box>
  </div>
  <div nz-col [nzSpan]="12">
    <demo-code-box [antTitle]="'确认对话框'" [antCode]="modalConfirmPromiseCode">
      <app-demo-modal-confirm-promise demo></app-demo-modal-confirm-promise>
      <div intro>
        <p>使用 <code>NzModalService.confirm()</code> 可以快捷地弹出确认框。NzOnCancel/NzOnOk 返回 promise 可以延迟关闭</p>
      </div>
    </demo-code-box>
  </div>
  <div nz-col [nzSpan]="12">
    <demo-code-box [antTitle]="'信息提示'" [antCode]="modalInfoCode">
      <app-demo-modal-info demo></app-demo-modal-info>
      <div intro>
        <p>各种类型的信息提示，只提供一个按钮用于关闭。</p>
      </div>
    </demo-code-box>
  </div>
  <div nz-col [nzSpan]="12">
    <demo-code-box [antTitle]="'手动移除'" [antCode]="modalManualCode">
      <app-demo-modal-manual demo></app-demo-modal-manual>
      <div intro>
        <p>手动关闭modal。</p>
      </div>
    </demo-code-box>
  </div>
  <div nz-col [nzSpan]="12">
    <demo-code-box [antTitle]="'自定义位置'" [antCode]="modalPositionCode">
      <app-demo-modal-position demo></app-demo-modal-position>
      <div intro>
        <p>注意：由于Angular的样式隔离，若在Component中没有加入 <code>encapsulation: ViewEncapsulation.None</code>，
          则您可能需要在自定义样式内采用 <code>::ng-deep</code> 来覆盖原有的样式</p>
      </div>
    </demo-code-box>
  </div>
  <div nz-col [nzSpan]="12">
    <demo-code-box [antTitle]="'服务方式的创建'" [antCode]="modalSeriveCode">
      <app-demo-modal-service demo></app-demo-modal-service>
      <div intro>
        <p>Modal的service用法，示例中演示了用户自定义模板、自定义component、以及注入模态框实例的方法。</p>
        <p>注意：如果使用Component模式，则需要在NgModule中的 <code>declarations</code> 和 <code>entryComponents</code> 加入自定义的Component</p>
      </div>
    </demo-code-box>
  </div>
</div>

<!-- <ant-markdown [antContent]="_markdownCode"></ant-markdown> -->
